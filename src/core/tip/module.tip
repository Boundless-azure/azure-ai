# Module Tip（自动生成，AST+AI 组合）
目标目录: E:\project\azure-ai\src\core\tip
生成时间: 2025-09-30T04:04:02.720Z

文件列表（File List）
- core/tip/tip.controller.ts：tip.controller.ts
- core/tip/tip.generator.ts：tip.generator.ts
- core/tip/tip.module.ts：tip.module.ts
- core/tip/tip.service.ts：tip.service.ts
- core/tip/tip.tokens.ts：tip.tokens.ts
- core/tip/tip.types.ts：tip.types.ts

函数索引（Function Index）
- 文件：core/tip/tip.controller.ts
  - class: TipController (line 6)
  - constructor: constructor (line 8)
  - method: search (line 14)
  - method: astIndex (line 25)
  - method: diagnostics (line 31)
  - method: generate (line 37)
  - method: generateAi (line 47)
  - method: generateWithAI (line 58)
  - method: generateAll (line 71)
- 文件：core/tip/tip.generator.ts
  - class: TipGeneratorService (line 16)
  - constructor: constructor (line 19)
  - method: generateModuleTip (line 24)
  - method: generateModuleTipAI (line 178)
  - method: generateTipsForModules (line 287)
  - method: buildAIContextForDir (line 305)
  - method: extractAnnotatedComments (line 381)
  - method: truncateContentByBudget (line 404)
  - method: pickAIModelId (line 412)
  - method: listSubDirs (line 424)
  - method: relativePath (line 442)
  - method: listTsFiles (line 449)
  - method: isExcluded (line 476)
  - method: getAstFunctionsForFile (line 482)
- 文件：core/tip/tip.module.ts
  - class: TipModule (line 11)
  - method: forRoot (line 13)
  - method: forFeature (line 39)
- 文件：core/tip/tip.service.ts
  - class: TipService (line 15)
  - constructor: constructor (line 17)
  - method: listTipFiles (line 22)
  - method: isExcluded (line 54)
  - method: readTipFiles (line 59)
  - method: parseDiagnosticsSectionFromTip (line 73)
  - method: toSeverity (line 112)
  - method: parseKeywordMappingsFromTip (line 126)
  - method: searchKeywords (line 155)
  - method: buildAstIndex (line 210)
  - method: analyzeTipContent (line 223)
  - method: collectDiagnostics (line 282)
  - method: generateDiagnosticsReport (line 294)
  - method: listTsFiles (line 308)
  - method: getAstFunctionsForFile (line 335)
- 文件：core/tip/tip.tokens.ts
- 文件：core/tip/tip.types.ts

文件说明
- （AI 未生成，待补充）

函数说明
- （AI 未生成，待补充）

关键词索引（中文 / English Keyword Index）
- "tip.controller" / "tip.controller.ts" -> core/tip/tip.controller.ts
- "TipController class" -> core/tip/tip.controller.ts
- "constructor constructor" -> core/tip/tip.controller.ts
- "search method" -> core/tip/tip.controller.ts
- "astIndex method" -> core/tip/tip.controller.ts
- "diagnostics method" -> core/tip/tip.controller.ts
- "generate method" -> core/tip/tip.controller.ts
- "generateAi method" -> core/tip/tip.controller.ts
- "generateWithAI method" -> core/tip/tip.controller.ts
- "generateAll method" -> core/tip/tip.controller.ts
- "tip.generator" / "tip.generator.ts" -> core/tip/tip.generator.ts
- "TipGeneratorService class" -> core/tip/tip.generator.ts
- "constructor constructor" -> core/tip/tip.generator.ts
- "generateModuleTip method" -> core/tip/tip.generator.ts
- "generateModuleTipAI method" -> core/tip/tip.generator.ts
- "generateTipsForModules method" -> core/tip/tip.generator.ts
- "buildAIContextForDir method" -> core/tip/tip.generator.ts
- "extractAnnotatedComments method" -> core/tip/tip.generator.ts
- "truncateContentByBudget method" -> core/tip/tip.generator.ts
- "pickAIModelId method" -> core/tip/tip.generator.ts
- "listSubDirs method" -> core/tip/tip.generator.ts
- "relativePath method" -> core/tip/tip.generator.ts
- "listTsFiles method" -> core/tip/tip.generator.ts
- "isExcluded method" -> core/tip/tip.generator.ts
- "getAstFunctionsForFile method" -> core/tip/tip.generator.ts
- "tip.module" / "tip.module.ts" -> core/tip/tip.module.ts
- "TipModule class" -> core/tip/tip.module.ts
- "forRoot method" -> core/tip/tip.module.ts
- "forFeature method" -> core/tip/tip.module.ts
- "tip.service" / "tip.service.ts" -> core/tip/tip.service.ts
- "TipService class" -> core/tip/tip.service.ts
- "constructor constructor" -> core/tip/tip.service.ts
- "listTipFiles method" -> core/tip/tip.service.ts
- "isExcluded method" -> core/tip/tip.service.ts
- "readTipFiles method" -> core/tip/tip.service.ts
- "parseDiagnosticsSectionFromTip method" -> core/tip/tip.service.ts
- "toSeverity method" -> core/tip/tip.service.ts
- "parseKeywordMappingsFromTip method" -> core/tip/tip.service.ts
- "searchKeywords method" -> core/tip/tip.service.ts
- "buildAstIndex method" -> core/tip/tip.service.ts
- "analyzeTipContent method" -> core/tip/tip.service.ts
- "collectDiagnostics method" -> core/tip/tip.service.ts
- "generateDiagnosticsReport method" -> core/tip/tip.service.ts
- "listTsFiles method" -> core/tip/tip.service.ts
- "getAstFunctionsForFile method" -> core/tip/tip.service.ts
- "tip.tokens" / "tip.tokens.ts" -> core/tip/tip.tokens.ts
- "tip.types" / "tip.types.ts" -> core/tip/tip.types.ts

快速检索映射（Keywords -> Files）
- "tip.controller" -> core/tip/tip.controller.ts
- "TipController" -> core/tip/tip.controller.ts
- "constructor" -> core/tip/tip.controller.ts
- "search" -> core/tip/tip.controller.ts
- "astIndex" -> core/tip/tip.controller.ts
- "diagnostics" -> core/tip/tip.controller.ts
- "generate" -> core/tip/tip.controller.ts
- "generateAi" -> core/tip/tip.controller.ts
- "generateWithAI" -> core/tip/tip.controller.ts
- "generateAll" -> core/tip/tip.controller.ts
- "tip.generator" -> core/tip/tip.generator.ts
- "TipGeneratorService" -> core/tip/tip.generator.ts
- "constructor" -> core/tip/tip.generator.ts
- "generateModuleTip" -> core/tip/tip.generator.ts
- "generateModuleTipAI" -> core/tip/tip.generator.ts
- "generateTipsForModules" -> core/tip/tip.generator.ts
- "buildAIContextForDir" -> core/tip/tip.generator.ts
- "extractAnnotatedComments" -> core/tip/tip.generator.ts
- "truncateContentByBudget" -> core/tip/tip.generator.ts
- "pickAIModelId" -> core/tip/tip.generator.ts
- "listSubDirs" -> core/tip/tip.generator.ts
- "relativePath" -> core/tip/tip.generator.ts
- "listTsFiles" -> core/tip/tip.generator.ts
- "isExcluded" -> core/tip/tip.generator.ts
- "getAstFunctionsForFile" -> core/tip/tip.generator.ts
- "tip.module" -> core/tip/tip.module.ts
- "TipModule" -> core/tip/tip.module.ts
- "forRoot" -> core/tip/tip.module.ts
- "forFeature" -> core/tip/tip.module.ts
- "tip.service" -> core/tip/tip.service.ts
- "TipService" -> core/tip/tip.service.ts
- "constructor" -> core/tip/tip.service.ts
- "listTipFiles" -> core/tip/tip.service.ts
- "isExcluded" -> core/tip/tip.service.ts
- "readTipFiles" -> core/tip/tip.service.ts
- "parseDiagnosticsSectionFromTip" -> core/tip/tip.service.ts
- "toSeverity" -> core/tip/tip.service.ts
- "parseKeywordMappingsFromTip" -> core/tip/tip.service.ts
- "searchKeywords" -> core/tip/tip.service.ts
- "buildAstIndex" -> core/tip/tip.service.ts
- "analyzeTipContent" -> core/tip/tip.service.ts
- "collectDiagnostics" -> core/tip/tip.service.ts
- "generateDiagnosticsReport" -> core/tip/tip.service.ts
- "listTsFiles" -> core/tip/tip.service.ts
- "getAstFunctionsForFile" -> core/tip/tip.service.ts
- "tip.tokens" -> core/tip/tip.tokens.ts
- "tip.types" -> core/tip/tip.types.ts

#problems_and_diagnostics
- [info] 此 tip 文件由 AST+AI 组合生成。添加新服务或方法后请更新关键词索引
- [warning] 若函数索引为空，AST 解析可能受限或目录不正确
- [info] Provider 说明需与实际支持的提供者保持一致：openai、anthropic、google、gemini、deepseek
- [error] 写入 module.tip 失败：输出目录不存在或权限不足。解决：提供有效的 dir，确保 writeToFile=true 且路径可写
- [warning] diagnostics 区段内容为空。解决：检查 TipService.parseDiagnosticsSectionFromTip 的输入是否包含 '#problems_and_diagnostics'
- [info] 仅生成 AST（useAI=false）时缺少详细函数说明。解决：配置 AI 代理与模型，启用 useAI=true 生成更丰富说明
- [debug] 关键词索引不准确。解决：运行 generate 重新构建索引，或手动校对关键词映射