# 小蓝 (Azure AI)

语言版本：[English](/docs/readme/README.en.md) · [中文](/docs/readme/README.zh-CN.md)

## 🚀 项目定位与愿景

**“小蓝”** 是新一代的 AI 交互入口，旨在通过自然语言替代旧时代的 Web 点击式操作。用户可以直接通过对话进行界面交互、数据管理和业务处理。

核心特性：
*   **自增长能力**：由 AI 自动生成代码插件，回流并接入到本平台，形成持续增强的能力闭环。
*   **可控生成**：通过“生成限定 + 事务总线（HookBus）”机制，确保 AI 产出的代码低依赖、低嵌套、可审计。
*   **AI 执行规范**：标准化的前端组件控制协议，让 AI 精确操控界面。

## 🛠️ 技术架构与实现思路

### 1. 前端架构 (Web Client)
*   **核心栈**：Vue 3 (Composition API) + TypeScript + Tailwind CSS + Pinia。
*   **模块化设计**：
    *   `Agent` 模块：承载核心对话交互。
    *   `IM` 模块：通过适配器模式 (`useImChatAdapter`) 解耦 UI 与通信层。
*   **交互体验优化**：
    *   **多模态输入**：支持语音录制（实时波形/极简黑白UI）、文本、Emoji 表情、图片粘贴预览及文件上传。
    *   **智能通讯录**：自动识别会话类型（AI 智能体/群聊/私聊），支持中文拼音首字母自动排序与分组。
    *   **流式响应**：全链路支持 SSE 流式输出与 Markdown 实时渲染。

### 2. 后端架构 (Server)
*   **服务编排**：基于 NestJS (推荐) 的模块化服务。
*   **Function Call**：原生集成 LLM 函数调用，支持动态工具注入。
    *   `PluginOrchestratorService`: 插件编排服务。
    *   `MysqlReadonlyService`: 安全的只读数据查询。
*   **HookBus 事务总线**：连接前端操作与后端逻辑的核心通道，保证事件的一致性与顺序性。

## 📅 待办清单 (Roadmap)

### ✅ 已完成 (Phase 1: 基础交互与体验)
- [x] **前端基础框架**：Vue 3 + Tailwind 模块化架构搭建。
- [x] **对话交互**：流式消息渲染、Markdown 支持、会话管理。
- [x] **语音输入增强**：实现极简风格的录音 UI，支持实时音量波形动画。
- [x] **多模态支持**：集成 Emoji 选择器、移动/PC 端图片预览、非图片文件系统打开。
- [x] **智能通讯录**：实现“AI 智能体 > 群聊 > 联系人”分组策略，及中文拼音首字母排序。
- [x] **国际化支持**：中英文多语言切换。

### 🚧 进行中 (Phase 2: 核心 AI 能力)
- [ ] **数据库写操作**：实现基于白名单与审计的安全 SQL 执行引擎。
- [ ] **权限精细化**：库/表/列级别的访问控制与风控策略。
- [ ] **HookBus 对接**：完善前后端动作的统一总线接入。
- [ ] **插件自增长闭环**：打通“规划 -> 代码生成 -> 测试 -> 部署”全流程。

### 🔮 未来计划 (Phase 3: 深度集成)
- [ ] **自动 CRUD 生成**：根据表结构自动生成管理页面。
- [ ] **多智能体协作**：复杂任务的 Agent 编排与协作。
- [ ] **业务深度插件**：如客户分析、报表自动生成等。

## 🚦 快速开始

1. **安装依赖**
```bash
npm install
```

2. **启动开发环境**
```bash
npm run dev
```

3. **构建生产版本**
```bash
npm run build
```
